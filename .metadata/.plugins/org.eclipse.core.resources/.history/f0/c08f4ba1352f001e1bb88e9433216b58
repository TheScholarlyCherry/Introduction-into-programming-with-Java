package cps161_FinalProject;
import java.util.Random;

public class RandomToken extends FunkyToken {
    private Random random;

    public RandomToken(char token) {
        super(token);
        random = new Random();
    }

    @Override
    public void move(FunkyBoard board) {
        int boardSize = board.getBoardSize();
        char[][] gameBoard = board.getBoard();

        int currentX = -1;
        int currentY = -1;

        // Find the current position of this token on the board
        outerLoop: for (int i = 0; i < boardSize; i++) {
            for (int j = 0; j < boardSize; j++) {
                if (gameBoard[i][j] == getToken()) {
                    currentX = i;
                    currentY = j;
                    break outerLoop;
                }
            }
        }

        if (currentX == -1 || currentY == -1) {
            // Token not found on the board, return
            return;
        }

        int newX, newY;
        do {
            // Generate random new position
            newX = currentX + random.nextInt(3) - 1; // Randomly -1, 0, or 1
            newY = currentY + random.nextInt(3) - 1; // Randomly -1, 0, or 1
        } while (!board.isValidMove(newX, newY));

        // Update the board and the token's position
        board.updateTokenPosition(getToken(), currentX, currentY, newX, newY);
    }
}
