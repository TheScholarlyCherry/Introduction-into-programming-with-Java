package cps161_FinalProject;
import java.util.Random;

public class MoveOneToken extends FunkyToken {

    public MoveOneToken(char token) {
        super(token);
    }

    @Override
    public void move(FunkyBoard board) {
        Random random = new Random();
        int x = getTokenXPosition(board);
        int y = getTokenYPosition(board);

        int dx = random.nextInt(3) - 1; // Random movement in x-direction (-1, 0, 1)
        int dy = random.nextInt(3) - 1; // Random movement in y-direction (-1, 0, 1)

        x += dx;
        y += dy;

        // Ensure the new position is within the bounds of the board
        x = Math.max(0, Math.min(board.getBoardSize() - 1, x));
        y = Math.max(0, Math.min(board.getBoardSize() - 1, y));

        claimSpot(board, x, y);
    }

    private int getTokenXPosition(FunkyBoard board) {
        for (int i = 0; i < board.getBoardSize(); i++) {
            for (int j = 0; j < board.getBoardSize(); j++) {
                if (board.getTokenAt(i, j) == this.token) {
                    return i;
                }
            }
        }
        return -1; // Token not found
    }

    private int getTokenYPosition(FunkyBoard board) {
        for (int i = 0; i < board.getBoardSize(); i++) {
            for (int j = 0; j < board.getBoardSize(); j++) {
                if (board.getTokenAt(i, j) == this.token) {
                    return j;
                }
            }
        }
        return -1; // Token not found
    }
}
